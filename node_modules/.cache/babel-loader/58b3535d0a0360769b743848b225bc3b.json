{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport initializeAuthentication from \"../Firebase/firebase.init\";\nimport { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut, createUserWithEmailAndPassword, signInWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nimport { useEffect, useState } from \"react\";\ninitializeAuthentication();\n\nconst useFirebase = () => {\n  _s();\n\n  const auth = getAuth();\n  const provider = new GoogleAuthProvider();\n  const [user, setUser] = useState({});\n  const [error, setError] = useState(\"\"); //Google Sign in button\n\n  const handleGoogleLogin = () => {\n    signInWithPopup(auth, provider).then(result => {\n      setUser(result.user); // console.log(result.user);\n\n      setError(\"\");\n    }).catch(error => setError(error.message));\n  }; // holding info after login\n\n\n  useEffect(() => {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        setUser(user);\n        const uid = user.uid;\n      } else {// User is signed out\n        // ...\n      }\n    });\n  }, []); //disappear info after log out\n\n  const handleLogout = () => {\n    signOut(auth).then(() => {\n      setUser({});\n    }).catch(err => {// console.log(err);\n    });\n  }; //submit click after putting email & password\n\n\n  const handleUserRegister = (email, password, name) => {\n    console.log(email, password);\n    createUserWithEmailAndPassword(auth, email, password).then(result => {\n      updateProfile(auth.currentUser, {\n        displayName: name\n      });\n      setUser(result.user);\n      console.log(result.user);\n    }).catch(error => {\n      const errorMessage = error.message;\n    });\n  };\n\n  const handleUserLogin = (email, password) => {\n    signInWithEmailAndPassword(auth, email, password).then(result => {\n      setUser(result.user);\n    }).catch(error => {\n      const errorMessage = error.message;\n    });\n  };\n\n  return {\n    handleGoogleLogin,\n    user,\n    handleLogout,\n    handleUserRegister,\n    handleUserLogin\n  };\n};\n\n_s(useFirebase, \"PeKtHbxmjPAA+Y6XM81oQcYU02M=\");\n\nexport default useFirebase;","map":{"version":3,"sources":["C:/project/hospital-web/src/Hooks/useFirebase.js"],"names":["initializeAuthentication","getAuth","signInWithPopup","GoogleAuthProvider","onAuthStateChanged","signOut","createUserWithEmailAndPassword","signInWithEmailAndPassword","updateProfile","useEffect","useState","useFirebase","auth","provider","user","setUser","error","setError","handleGoogleLogin","then","result","catch","message","uid","handleLogout","err","handleUserRegister","email","password","name","console","log","currentUser","displayName","errorMessage","handleUserLogin"],"mappings":"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","sourcesContent":["import initializeAuthentication from \"../Firebase/firebase.init\";\nimport {\n  getAuth,\n  signInWithPopup,\n  GoogleAuthProvider,\n  onAuthStateChanged,\n  signOut,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  updateProfile,\n} from \"firebase/auth\";\n\nimport { useEffect, useState } from \"react\";\ninitializeAuthentication();\n\nconst useFirebase = () => {\n  const auth = getAuth();\n  const provider = new GoogleAuthProvider();\n  const [user, setUser] = useState({});\n  const [error, setError] = useState(\"\");\n\n  //Google Sign in button\n\n  const handleGoogleLogin = () => {\n    signInWithPopup(auth, provider)\n      .then((result) => {\n        setUser(result.user);\n        // console.log(result.user);\n        setError(\"\");\n      })\n      .catch((error) => setError(error.message));\n  };\n\n  // holding info after login\n  useEffect(() => {\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        setUser(user);\n        const uid = user.uid;\n      } else {\n        // User is signed out\n        // ...\n      }\n    });\n  }, []);\n\n  //disappear info after log out\n  const handleLogout = () => {\n    signOut(auth)\n      .then(() => {\n        setUser({});\n      })\n      .catch((err) => {\n        // console.log(err);\n      });\n  };\n  //submit click after putting email & password\n  const handleUserRegister = (email, password, name) => {\n    console.log(email, password);\n    createUserWithEmailAndPassword(auth, email, password)\n      .then((result) => {\n        updateProfile(auth.currentUser, {\n          displayName: name,\n        });\n        setUser(result.user);\n        console.log(result.user);\n      })\n      .catch((error) => {\n        const errorMessage = error.message;\n      });\n  };\n\n  const handleUserLogin = (email, password) => {\n    signInWithEmailAndPassword(auth, email, password)\n      .then((result) => {\n        setUser(result.user);\n      })\n      .catch((error) => {\n        const errorMessage = error.message;\n      });\n  };\n\n  return {\n    handleGoogleLogin,\n    user,\n    handleLogout,\n    handleUserRegister,\n    handleUserLogin,\n  };\n};\n\nexport default useFirebase;\n"]},"metadata":{},"sourceType":"module"}